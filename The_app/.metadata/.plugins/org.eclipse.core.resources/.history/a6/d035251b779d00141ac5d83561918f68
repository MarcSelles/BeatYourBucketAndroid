package com.byb.beatyourbucket;

import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.List;

import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.support.v4.app.FragmentTransaction;
import android.support.v4.app.ListFragment;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ArrayAdapter;
import android.widget.ListView;


public class FragmentBucket  extends Fragment{
	private static final String TAG = "MyActivity";
	private List<String> databucket = new ArrayList<String>();  
	private List<FragmentTransaction> mBackStackList = new ArrayList<FragmentTransaction>();
	
	@Override
	public View onCreateView(LayoutInflater inflater,
			@Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {

		View v = inflater.inflate(R.layout.tab1_view, container, false);
		return v;
	}
	
	@Override 
    public void onActivityCreated(Bundle savedInstanceState) {  
        super.onActivityCreated(savedInstanceState); 
        
        // Voeg de data toe aan de listview (count moet aantal buckets worden)
        for (int i=0, max=8; i<max; i++){
        	databucket.add("info" + i);
        }
	
        ListView listView = (ListView) getActivity().findViewById(R.id.fragment_list);
        listView.setAdapter(new ArrayAdapter(getActivity(), android.R.layout.simple_list_item_1, databucket));
        
        listView.setOnItemClickListener(new OnItemClickListener() { 
        	@Override 
            public void onItemClick(AdapterView<?> parent, View view,  
                    int position, long id) {
        		//Maak een Fragment aan  
                Fragment lf = new FragmentLists();  

                Bundle mBundle = new Bundle();  
                mBundle.putString("arg", databucket.get(position));  
                lf.setArguments(mBundle);  
                
                final FragmentManager fm = getActivity().getSupportFragmentManager();  
                final FragmentTransaction ft = fm.beginTransaction();  
                
                ft.replace(R.id.detail_container, lf);
                ft.commit();  
                   
        	}
        }
	
	
	
	
	
	
	
//	
//	@Override
//    public void onActivityCreated(Bundle savedInstanceState) {
//     
//        super.onActivityCreated(savedInstanceState);
//        ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(), R.array.buckets, android.R.layout.simple_list_item_1);
//       
//        setListAdapter(adapter);
//        getListView().setOnItemClickListener(this);
//
//    }
//
//	@Override
//	public void onItemClick(AdapterView<?> parent, View view, int position,
//			long id) {
//		// TODO Auto-generated method stub
////		FragmentManager fm = getFragmentManager();
////		FragmentTransaction ft = fm.beginTransaction();
////		FragmentLists fl = new FragmentLists();
////		ft.replace(android.R.id.tabcontent, fl);
//		FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();
//		FragmentLists fl = new FragmentLists();
//		fragmentTransaction.replace(android.R.id.tabcontent, fl);
//		fragmentTransaction.commit();
//		
//	}
}